var j=Object.defineProperty,q=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var m=(o,e,t)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,c=(o,e)=>{for(var t in e||(e={}))z.call(e,t)&&m(o,t,e[t]);if(f)for(var t of f(e))B.call(e,t)&&m(o,t,e[t]);return o},v=(o,e)=>q(o,A(e));import{R as L,d as F,r as p,c as i,C as U,o as w,D as b,g as r,f as a,h as I,F as N,j as P}from"./index.35da5313.js";class E extends L{constructor(e,t){super(),this.url="/log/getLoginLogList",this.method="get",this.pagination=t,this.param=c(c({},e),t)}}class G extends L{constructor(e){super(),this.url="/log/getLoginLogTotal",this.method="get",this.param=e}}const H={name:"LoginLog"},M=F(v(c({},H),{setup(o){const e=p(""),t=p(!1),d=p([]),n=p({page:1,rows:20,total:0});g(),h();function y(){n.value.page=1,g(),h()}function g(){t.value=!0,d.value=[],new E({account:e.value},n.value).request().then(s=>{d.value=s.data.list}).finally(()=>{t.value=!1})}function h(){new G({account:e.value}).request().then(s=>{n.value.total=s.data.total})}function x(s=1){n.value.page=s,g()}return(s,_)=>{const C=i("el-input"),D=i("el-button"),u=i("el-row"),l=i("el-table-column"),R=i("el-table"),k=i("el-pagination"),T=U("loading");return w(),b(u,{class:"app-container"},{default:r(()=>[a(u,{class:"app-bar",type:"flex",justify:"space-between"},{default:r(()=>[a(u,null,{default:r(()=>[a(C,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=V=>e.value=V),style:{width:"200px"},placeholder:"Filter the account"},null,8,["modelValue"]),a(D,{loading:t.value,type:"primary",icon:I(N),onClick:y},null,8,["loading","icon"])]),_:1})]),_:1}),a(u,{class:"app-table"},{default:r(()=>[P((w(),b(R,{border:"",stripe:"","highlight-current-row":"",height:"100%",data:d.value,style:{width:"100%"}},{default:r(()=>[a(l,{prop:"id",label:"ID",width:"80"}),a(l,{prop:"account",label:"Account",width:"110"}),a(l,{prop:"remoteAddr",label:"Remote addr",width:"160"}),a(l,{prop:"referer",label:"Referer",width:"200"}),a(l,{prop:"userAgent",label:"User agent",width:"160","show-overflow-tooltip":""}),a(l,{prop:"reason",label:"Reason","show-overflow-tooltip":""}),a(l,{prop:"loginTime",label:"Login time",width:"155"})]),_:1},8,["data"])),[[T,t.value]])]),_:1}),a(u,{type:"flex",justify:"end",style:{"margin-top":"10px",width:"100%"}},{default:r(()=>[a(k,{total:n.value.total,"page-size":n.value.rows,background:"",layout:"total, prev, pager, next",onCurrentChange:x},null,8,["total","page-size"])]),_:1})]),_:1})}}}));export{M as default};
