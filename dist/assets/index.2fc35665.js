var R=Object.defineProperty,T=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var y=(s,e,o)=>e in s?R(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,x=(s,e)=>{for(var o in e||(e={}))E.call(e,o)&&y(s,o,e[o]);if(w)for(var o of w(e))K.call(e,o)&&y(s,o,e[o]);return s},b=(s,e)=>T(s,U(e));import{_ as M,d as D,u as F,a as L,r as i,w as O,b as G,c as u,o as k,e as C,f as n,g as d,h as J,i as r,j as q,v as z,k as A,l as H,m as Q,p as W,n as X,q as Y,s as Z,t as $,x as ee,y as se}from"./index.ffb5bdad.js";function te(s){const e=s.split("?")[1];return e?JSON.parse('{"'+decodeURIComponent(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}const I=s=>(W("data-v-37dfd6fc"),s=s(),X(),s),oe={class:"login-container"},ae=I(()=>r("img",{src:se,width:"120",height:"120"},null,-1)),ne=I(()=>r("div",{class:"title-container"},[r("h3",{class:"title"},"vue3-template")],-1)),re={class:"svg-container"},le={class:"svg-container"},ce=["type","onKeyup"],ie=Y(" \u767B \u5F55 "),ue={name:"Login"},de=D(b(x({},ue),{setup(s){const e=F(),o=L(),f=i(),l=i({account:"admin",password:"admin!@#",phrase:""}),S={account:[{required:!0,trigger:"blur",validator:(a,t)=>Z(t)?!0:new Error("Greater than 5 characters")}],password:[{required:!0,trigger:"blur",validator:(a,t)=>$(t)?!0:new Error("8 to 16 characters and a minimum of 2 character sets from these classes: [letters], [numbers], [special characters]")}]},c=i("password"),p=i(!1),_=i();O(G(),a=>{var t;_.value=(t=a.query)==null?void 0:t.redirect},{immediate:!0});const V=i();function j(){c.value==="password"?c.value="":c.value="password",ee(()=>{var a;(a=V.value)==null||a.focus()})}function h(){var a;(a=f.value)==null||a.validate(t=>t?(p.value=!0,e.dispatch("user/login",l.value).then(()=>{o.push({path:_.value||"/",query:_.value?te(_.value):{}}),p.value=!1}).catch(()=>{p.value=!1}),Promise.resolve(!0)):Promise.reject(!1))}return(a,t)=>{const B=u("el-row"),m=u("svg-icon"),g=u("el-form-item"),N=u("el-button"),P=u("el-form");return k(),C("div",oe,[n(B,{class:"login-mark",type:"flex",align:"middle",justify:"center"},{default:d(()=>[ae]),_:1}),n(P,{ref_key:"form",ref:f,model:l.value,rules:J(S),class:"login-form","auto-complete":"on","label-position":"left"},{default:d(()=>[ne,n(g,{prop:"account",class:"login-form-input"},{default:d(()=>[r("span",re,[n(m,{"icon-class":"user"})]),q(r("input",{"onUpdate:modelValue":t[0]||(t[0]=v=>l.value.account=v),placeholder:"account",name:"account",type:"text",tabindex:"1","auto-complete":"on"},null,512),[[z,l.value.account]])]),_:1}),n(g,{prop:"password",class:"login-form-input"},{default:d(()=>[r("span",le,[n(m,{"icon-class":"password"})]),q((k(),C("input",{key:c.value,"onUpdate:modelValue":t[1]||(t[1]=v=>l.value.password=v),type:c.value,placeholder:"password",name:"password",tabindex:"2","auto-complete":"on",onKeyup:H(h,["enter"])},null,40,ce)),[[A,l.value.password]]),r("span",{class:"show-pwd",onClick:j},[n(m,{"icon-class":c.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1}),n(N,{loading:p.value,type:"primary",class:"login-form-btn",style:{width:"100%","margin-bottom":"30px"},onClick:Q(h,["prevent"])},{default:d(()=>[ie]),_:1},8,["loading","onClick"])]),_:1},8,["model","rules"])])}}}));var me=M(de,[["__scopeId","data-v-37dfd6fc"]]);export{me as default};
